⎕IO←0
p←⍎⊃⊃⎕NGET'p15.txt'1
f←{z←⍺ ⋄ a←(1+⍳≢⍵)@⍵⊢z/0 ⋄ (≢⍵){z=⍺:⍵ ⋄ n←a[⍵] ⋄ a[⍵]←⍺ ⋄ (⍺+1)∇(×n)×⍺-n}⊃⌽⍵}
2020 f p ⍝ part 1
30E6 f p ⍝ part 2
